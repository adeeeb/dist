import{u as x,r as h,j as e}from"./index-DhU4h9GU.js";import{N as b,d as f,e as w,f as j}from"./Navbar-DqmeKDl6.js";import{u as N}from"./index.esm-D5jWM784.js";import{a as v}from"./axios-upsvKRUO.js";import{b as y}from"./background-Ci9soomE.js";import{S}from"./sweetalert2.esm.all-BY1s0Tb6.js";import{u as P}from"./iconBase-BA_MHhIe.js";import{m as n}from"./proxy-ChTT-aBP.js";const L=()=>{const{register:t,handleSubmit:m,formState:{errors:a},watch:u}=N({mode:"onChange"}),{t:s}=P(),g=x(),[o,l]=h.useState(!1),p=async i=>{var d,c;l(!0);try{const r=await v.post("https://adeeb0011.pythonanywhere.com/api/accounts/register/",{username:i.username,email:i.email,password:i.password,confirm_password:i.confirmPassword});r.status===201&&(console.log("Sign In Successful:",r.data),r.data.token&&localStorage.setItem("token",r.data.token),g("/"))}catch(r){S.fire({icon:"error",title:"Oops...",text:((c=(d=r.response)==null?void 0:d.data)==null?void 0:c.message)||"An error occurred during registration, please try again!"}),console.error("Sign In Failed:",r)}finally{l(!1)}};return e.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:`url(${y})`},children:[e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50"}),e.jsx(b,{isÙAnoutherPage:!0}),e.jsxs(n.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-white p-8 rounded-lg shadow-lg w-full max-w-md relative z-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-4",children:s("signin.title")}),e.jsx("p",{className:"text-center text-gray-600 mb-6",children:s("signin.description")}),e.jsxs("form",{onSubmit:m(p),children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"text",placeholder:s("signin.usernamePlaceholder"),...t("username",{required:s("signin.usernameRequired")}),className:"w-full p-2 border rounded"}),a.username&&e.jsx("p",{className:"text-red-500 text-sm",children:a.username.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"email",placeholder:s("signin.emailPlaceholder"),...t("email",{required:s("signin.emailRequired"),pattern:{value:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,message:s("signin.emailInvalid")}}),className:"w-full p-2 border rounded"}),a.email&&e.jsx("p",{className:"text-red-500 text-sm",children:a.email.message})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("input",{type:"password",placeholder:s("signin.passwordPlaceholder"),...t("password",{required:s("signin.passwordRequired"),minLength:{value:6,message:s("signin.passwordMinLength")}}),className:"w-full p-2 border rounded"}),a.password&&e.jsx("p",{className:"text-red-500 text-sm",children:a.password.message})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("input",{type:"password",placeholder:s("signin.confirmPasswordPlaceholder"),...t("confirmPassword",{required:s("signin.confirmPasswordRequired"),validate:i=>i===u("password")||s("signin.confirmPasswordMatch")}),className:"w-full p-2 border rounded"}),a.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm",children:a.confirmPassword.message})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-amber-800 text-white p-2 rounded hover:bg-amber-900 transition duration-300",children:o?"Signing In...":s("signin.submitButton")})]}),e.jsxs("p",{className:"text-center mt-4",children:[s("signin.haveAccount")," ",e.jsx("a",{href:"/login",className:"text-amber-900 hover:underline",children:s("signin.login")})]}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-grow border-t border-gray-300"}),e.jsx("span",{className:"mx-4 text-gray-500",children:s("signin.orSignIn")}),e.jsx("div",{className:"flex-grow border-t border-gray-300"})]}),e.jsxs("div",{className:"flex justify-center space-x-4",children:[e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-red-500 text-white rounded-full hover:bg-red-600 transition duration-300",children:e.jsx(f,{})}),e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-black text-white rounded-full hover:bg-gray-800 transition duration-300",children:e.jsx(w,{})}),e.jsx(n.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition duration-300",children:e.jsx(j,{})})]})]})]})};export{L as default};

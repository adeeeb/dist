import{g as se,r as H,u as ie,j as b}from"./index-DhU4h9GU.js";import{i as re,S as ue,a as le,f as ce,d as fe,b as pe}from"./index-Ba3rKsJw.js";import{a as de}from"./axios-upsvKRUO.js";import{b as ye}from"./background-Ci9soomE.js";import{u as me}from"./iconBase-BA_MHhIe.js";import{m as ge}from"./proxy-ChTT-aBP.js";function he(L){let{swiper:t,extendParams:_,on:o,emit:l,params:i}=L;t.autoplay={running:!1,paused:!1,timeLeft:0},_({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let c,p,d=i&&i.autoplay?i.autoplay.delay:3e3,j=i&&i.autoplay?i.autoplay.delay:3e3,h,S=new Date().getTime(),m,g,a,r,s,f,u;function O(x){!t||t.destroyed||!t.wrapperEl||x.target===t.wrapperEl&&(t.wrapperEl.removeEventListener("transitionend",O),!(u||x.detail&&x.detail.bySwiperTouchMove)&&M())}const R=()=>{if(t.destroyed||!t.autoplay.running)return;t.autoplay.paused?m=!0:m&&(j=h,m=!1);const x=t.autoplay.paused?h:S+j-new Date().getTime();t.autoplay.timeLeft=x,l("autoplayTimeLeft",x,x/d),p=requestAnimationFrame(()=>{R()})},N=()=>{let x;return t.virtual&&t.params.virtual.enabled?x=t.slides.find(P=>P.classList.contains("swiper-slide-active")):x=t.slides[t.activeIndex],x?parseInt(x.getAttribute("data-swiper-autoplay"),10):void 0},E=x=>{if(t.destroyed||!t.autoplay.running)return;cancelAnimationFrame(p),R();let q=typeof x>"u"?t.params.autoplay.delay:x;d=t.params.autoplay.delay,j=t.params.autoplay.delay;const P=N();!Number.isNaN(P)&&P>0&&typeof x>"u"&&(q=P,d=P,j=P),h=q;const z=t.params.speed,Z=()=>{!t||t.destroyed||(t.params.autoplay.reverseDirection?!t.isBeginning||t.params.loop||t.params.rewind?(t.slidePrev(z,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(t.slides.length-1,z,!0,!0),l("autoplay")):!t.isEnd||t.params.loop||t.params.rewind?(t.slideNext(z,!0,!0),l("autoplay")):t.params.autoplay.stopOnLastSlide||(t.slideTo(0,z,!0,!0),l("autoplay")),t.params.cssMode&&(S=new Date().getTime(),requestAnimationFrame(()=>{E()})))};return q>0?(clearTimeout(c),c=setTimeout(()=>{Z()},q)):requestAnimationFrame(()=>{Z()}),q},$=()=>{S=new Date().getTime(),t.autoplay.running=!0,E(),l("autoplayStart")},A=()=>{t.autoplay.running=!1,clearTimeout(c),cancelAnimationFrame(p),l("autoplayStop")},B=(x,q)=>{if(t.destroyed||!t.autoplay.running)return;clearTimeout(c),x||(f=!0);const P=()=>{l("autoplayPause"),t.params.autoplay.waitForTransition?t.wrapperEl.addEventListener("transitionend",O):M()};if(t.autoplay.paused=!0,q){s&&(h=t.params.autoplay.delay),s=!1,P();return}h=(h||t.params.autoplay.delay)-(new Date().getTime()-S),!(t.isEnd&&h<0&&!t.params.loop)&&(h<0&&(h=0),P())},M=()=>{t.isEnd&&h<0&&!t.params.loop||t.destroyed||!t.autoplay.running||(S=new Date().getTime(),f?(f=!1,E(h)):E(),t.autoplay.paused=!1,l("autoplayResume"))},F=()=>{if(t.destroyed||!t.autoplay.running)return;const x=re();x.visibilityState==="hidden"&&(f=!0,B(!0)),x.visibilityState==="visible"&&M()},Y=x=>{x.pointerType==="mouse"&&(f=!0,u=!0,!(t.animating||t.autoplay.paused)&&B(!0))},G=x=>{x.pointerType==="mouse"&&(u=!1,t.autoplay.paused&&M())},K=()=>{t.params.autoplay.pauseOnMouseEnter&&(t.el.addEventListener("pointerenter",Y),t.el.addEventListener("pointerleave",G))},Q=()=>{t.el&&typeof t.el!="string"&&(t.el.removeEventListener("pointerenter",Y),t.el.removeEventListener("pointerleave",G))},W=()=>{re().addEventListener("visibilitychange",F)},X=()=>{re().removeEventListener("visibilitychange",F)};o("init",()=>{t.params.autoplay.enabled&&(K(),W(),$())}),o("destroy",()=>{Q(),X(),t.autoplay.running&&A()}),o("_freeModeStaticRelease",()=>{(a||f)&&M()}),o("_freeModeNoMomentumRelease",()=>{t.params.autoplay.disableOnInteraction?A():B(!0,!0)}),o("beforeTransitionStart",(x,q,P)=>{t.destroyed||!t.autoplay.running||(P||!t.params.autoplay.disableOnInteraction?B(!0,!0):A())}),o("sliderFirstMove",()=>{if(!(t.destroyed||!t.autoplay.running)){if(t.params.autoplay.disableOnInteraction){A();return}g=!0,a=!1,f=!1,r=setTimeout(()=>{f=!0,a=!0,B(!0)},200)}}),o("touchEnd",()=>{if(!(t.destroyed||!t.autoplay.running||!g)){if(clearTimeout(r),clearTimeout(c),t.params.autoplay.disableOnInteraction){a=!1,g=!1;return}a&&t.params.cssMode&&M(),a=!1,g=!1}}),o("slideChange",()=>{t.destroyed||!t.autoplay.running||(s=!0)}),Object.assign(t.autoplay,{start:$,stop:A,pause:B,resume:M})}var ee={exports:{}},be=ee.exports,ae;function ve(){return ae||(ae=1,function(L,t){(function(_,o){L.exports=o()})(be,function(){return function(_){var o={};function l(i){if(o[i])return o[i].exports;var c=o[i]={i,l:!1,exports:{}};return _[i].call(c.exports,c,c.exports,l),c.l=!0,c.exports}return l.m=_,l.c=o,l.d=function(i,c,p){l.o(i,c)||Object.defineProperty(i,c,{enumerable:!0,get:p})},l.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},l.t=function(i,c){if(1&c&&(i=l(i)),8&c||4&c&&typeof i=="object"&&i&&i.__esModule)return i;var p=Object.create(null);if(l.r(p),Object.defineProperty(p,"default",{enumerable:!0,value:i}),2&c&&typeof i!="string")for(var d in i)l.d(p,d,(function(j){return i[j]}).bind(null,d));return p},l.n=function(i){var c=i&&i.__esModule?function(){return i.default}:function(){return i};return l.d(c,"a",c),c},l.o=function(i,c){return Object.prototype.hasOwnProperty.call(i,c)},l.p="/",l(l.s=2)}([function(_,o,l){_.exports=l(3)},function(_,o,l){_.exports=l(5)()},function(_,o,l){Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function m(g,a){for(var r=0;r<a.length;r++){var s=a[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,a,r){return a&&m(g.prototype,a),r&&m(g,r),g}}(),c=l(0),p=h(c),d=h(l(1)),j=h(l(7));function h(m){return m&&m.__esModule?m:{default:m}}var S=function(m){function g(a){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,g);var r=function(s,f){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?s:f}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a));return r.state={index:0,displayText:""},r.getRawText=r.getRawText.bind(r),r.type=r.type.bind(r),r.erase=r.erase.bind(r),r.startTyping=r.startTyping.bind(r),r}return function(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}(g,c.Component),i(g,[{key:"componentDidMount",value:function(){this.startTyping()}},{key:"componentWillUnmount",value:function(){this._timeout&&clearTimeout(this._timeout)}},{key:"startTyping",value:function(){var a=this;this._timeout=setTimeout(function(){a.type()},this.props.typingDelay)}},{key:"getRawText",value:function(){var a=this.props.text;return typeof a=="string"?[a]:[].concat(function(r){if(Array.isArray(r)){for(var s=0,f=Array(r.length);s<r.length;s++)f[s]=r[s];return f}return Array.from(r)}(a))}},{key:"type",value:function(){var a=this,r=this.state,s=r.index,f=r.displayText,u=this.getRawText()[s];u.length>f.length?(f=u.substr(0,f.length+1),this.setState({displayText:f},function(){a._timeout=setTimeout(function(){a.type()},a.props.speed)})):this._timeout=setTimeout(function(){a.erase()},this.props.eraseDelay)}},{key:"erase",value:function(){var a=this,r=this.state,s=r.index,f=r.displayText;f.length===0?(s=s+1===this.getRawText().length?0:s+1,this.setState({index:s},function(){a.startTyping()})):(f=f.substr(-f.length,f.length-1),this.setState({displayText:f},function(){a._timeout=setTimeout(function(){a.erase()},a.props.eraseSpeed)}))}},{key:"render",value:function(){var a=this.props,r=(a.speed,a.eraseSpeed,a.typingDelay,a.eraseDelay,a.staticText),s=(a.text,a.cursor),f=a.displayTextRenderer,u=a.cursorClassName,O=a.cursorRenderer,R=function(A,B){var M={};for(var F in A)B.indexOf(F)>=0||Object.prototype.hasOwnProperty.call(A,F)&&(M[F]=A[F]);return M}(a,["speed","eraseSpeed","typingDelay","eraseDelay","staticText","text","cursor","displayTextRenderer","cursorClassName","cursorRenderer"]),N=this.state,E=N.displayText,$=N.index;return p.default.createElement("span",R,r?p.default.createElement("span",null,r,"Â "):null,p.default.createElement("div",{style:{display:"inline-block"}},f?f(E,$):E),p.default.createElement(j.default,{cursor:s,cursorRenderer:O,className:u}))}}]),g}();o.default=S,S.defaultProps={speed:200,eraseSpeed:200,eraseDelay:5e3,typingDelay:2500},S.propTypes={speed:d.default.number.isRequired,eraseSpeed:d.default.number.isRequired,typingDelay:d.default.number.isRequired,eraseDelay:d.default.number.isRequired,staticText:d.default.string,text:d.default.oneOfType([d.default.arrayOf(d.default.string),d.default.string]).isRequired,cursor:d.default.string,cursorClassName:d.default.string,displayTextRenderer:d.default.func,cursorRenderer:d.default.func}},function(_,o,l){/** @license React v16.13.1
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var i=l(4),c=typeof Symbol=="function"&&Symbol.for,p=c?Symbol.for("react.element"):60103,d=c?Symbol.for("react.portal"):60106,j=c?Symbol.for("react.fragment"):60107,h=c?Symbol.for("react.strict_mode"):60108,S=c?Symbol.for("react.profiler"):60114,m=c?Symbol.for("react.provider"):60109,g=c?Symbol.for("react.context"):60110,a=c?Symbol.for("react.forward_ref"):60112,r=c?Symbol.for("react.suspense"):60113,s=c?Symbol.for("react.memo"):60115,f=c?Symbol.for("react.lazy"):60116,u=typeof Symbol=="function"&&Symbol.iterator;function O(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,v=1;v<arguments.length;v++)n+="&args[]="+encodeURIComponent(arguments[v]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N={};function E(e,n,v){this.props=e,this.context=n,this.refs=N,this.updater=v||R}function $(){}function A(e,n,v){this.props=e,this.context=n,this.refs=N,this.updater=v||R}E.prototype.isReactComponent={},E.prototype.setState=function(e,n){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error(O(85));this.updater.enqueueSetState(this,e,n,"setState")},E.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},$.prototype=E.prototype;var B=A.prototype=new $;B.constructor=A,i(B,E.prototype),B.isPureReactComponent=!0;var M={current:null},F=Object.prototype.hasOwnProperty,Y={key:!0,ref:!0,__self:!0,__source:!0};function G(e,n,v){var w,y={},C=null,I=null;if(n!=null)for(w in n.ref!==void 0&&(I=n.ref),n.key!==void 0&&(C=""+n.key),n)F.call(n,w)&&!Y.hasOwnProperty(w)&&(y[w]=n[w]);var D=arguments.length-2;if(D===1)y.children=v;else if(1<D){for(var T=Array(D),k=0;k<D;k++)T[k]=arguments[k+2];y.children=T}if(e&&e.defaultProps)for(w in D=e.defaultProps)y[w]===void 0&&(y[w]=D[w]);return{$$typeof:p,type:e,key:C,ref:I,props:y,_owner:M.current}}function K(e){return typeof e=="object"&&e!==null&&e.$$typeof===p}var Q=/\/+/g,W=[];function X(e,n,v,w){if(W.length){var y=W.pop();return y.result=e,y.keyPrefix=n,y.func=v,y.context=w,y.count=0,y}return{result:e,keyPrefix:n,func:v,context:w,count:0}}function x(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>W.length&&W.push(e)}function q(e,n,v){return e==null?0:function w(y,C,I,D){var T=typeof y;T!=="undefined"&&T!=="boolean"||(y=null);var k=!1;if(y===null)k=!0;else switch(T){case"string":case"number":k=!0;break;case"object":switch(y.$$typeof){case p:case d:k=!0}}if(k)return I(D,y,C===""?"."+P(y,0):C),1;if(k=0,C=C===""?".":C+":",Array.isArray(y))for(var J=0;J<y.length;J++){var V=C+P(T=y[J],J);k+=w(T,V,I,D)}else if(V=y===null||typeof y!="object"?null:typeof(V=u&&y[u]||y["@@iterator"])=="function"?V:null,typeof V=="function")for(y=V.call(y),J=0;!(T=y.next()).done;)k+=w(T=T.value,V=C+P(T,J++),I,D);else if(T==="object")throw I=""+y,Error(O(31,I==="[object Object]"?"object with keys {"+Object.keys(y).join(", ")+"}":I,""));return k}(e,"",n,v)}function P(e,n){return typeof e=="object"&&e!==null&&e.key!=null?function(v){var w={"=":"=0",":":"=2"};return"$"+(""+v).replace(/[=:]/g,function(y){return w[y]})}(e.key):n.toString(36)}function z(e,n){e.func.call(e.context,n,e.count++)}function Z(e,n,v){var w=e.result,y=e.keyPrefix;e=e.func.call(e.context,n,e.count++),Array.isArray(e)?te(e,w,v,function(C){return C}):e!=null&&(K(e)&&(e=function(C,I){return{$$typeof:p,type:C.type,key:I,ref:C.ref,props:C.props,_owner:C._owner}}(e,y+(!e.key||n&&n.key===e.key?"":(""+e.key).replace(Q,"$&/")+"/")+v)),w.push(e))}function te(e,n,v,w,y){var C="";v!=null&&(C=(""+v).replace(Q,"$&/")+"/"),q(e,Z,n=X(n,C,w,y)),x(n)}var ne={current:null};function U(){var e=ne.current;if(e===null)throw Error(O(321));return e}var oe={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:M,IsSomeRendererActing:{current:!1},assign:i};o.Children={map:function(e,n,v){if(e==null)return e;var w=[];return te(e,w,null,n,v),w},forEach:function(e,n,v){if(e==null)return e;q(e,z,n=X(null,null,n,v)),x(n)},count:function(e){return q(e,function(){return null},null)},toArray:function(e){var n=[];return te(e,n,null,function(v){return v}),n},only:function(e){if(!K(e))throw Error(O(143));return e}},o.Component=E,o.Fragment=j,o.Profiler=S,o.PureComponent=A,o.StrictMode=h,o.Suspense=r,o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oe,o.cloneElement=function(e,n,v){if(e==null)throw Error(O(267,e));var w=i({},e.props),y=e.key,C=e.ref,I=e._owner;if(n!=null){if(n.ref!==void 0&&(C=n.ref,I=M.current),n.key!==void 0&&(y=""+n.key),e.type&&e.type.defaultProps)var D=e.type.defaultProps;for(T in n)F.call(n,T)&&!Y.hasOwnProperty(T)&&(w[T]=n[T]===void 0&&D!==void 0?D[T]:n[T])}var T=arguments.length-2;if(T===1)w.children=v;else if(1<T){D=Array(T);for(var k=0;k<T;k++)D[k]=arguments[k+2];w.children=D}return{$$typeof:p,type:e.type,key:y,ref:C,props:w,_owner:I}},o.createContext=function(e,n){return n===void 0&&(n=null),(e={$$typeof:g,_calculateChangedBits:n,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:m,_context:e},e.Consumer=e},o.createElement=G,o.createFactory=function(e){var n=G.bind(null,e);return n.type=e,n},o.createRef=function(){return{current:null}},o.forwardRef=function(e){return{$$typeof:a,render:e}},o.isValidElement=K,o.lazy=function(e){return{$$typeof:f,_ctor:e,_status:-1,_result:null}},o.memo=function(e,n){return{$$typeof:s,type:e,compare:n===void 0?null:n}},o.useCallback=function(e,n){return U().useCallback(e,n)},o.useContext=function(e,n){return U().useContext(e,n)},o.useDebugValue=function(){},o.useEffect=function(e,n){return U().useEffect(e,n)},o.useImperativeHandle=function(e,n,v){return U().useImperativeHandle(e,n,v)},o.useLayoutEffect=function(e,n){return U().useLayoutEffect(e,n)},o.useMemo=function(e,n){return U().useMemo(e,n)},o.useReducer=function(e,n,v){return U().useReducer(e,n,v)},o.useRef=function(e){return U().useRef(e)},o.useState=function(e){return U().useState(e)},o.version="16.13.1"},function(_,o,l){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;_.exports=function(){try{if(!Object.assign)return!1;var d=new String("abc");if(d[5]="de",Object.getOwnPropertyNames(d)[0]==="5")return!1;for(var j={},h=0;h<10;h++)j["_"+String.fromCharCode(h)]=h;if(Object.getOwnPropertyNames(j).map(function(m){return j[m]}).join("")!=="0123456789")return!1;var S={};return"abcdefghijklmnopqrst".split("").forEach(function(m){S[m]=m}),Object.keys(Object.assign({},S)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(d,j){for(var h,S,m=function(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}(d),g=1;g<arguments.length;g++){for(var a in h=Object(arguments[g]))c.call(h,a)&&(m[a]=h[a]);if(i){S=i(h);for(var r=0;r<S.length;r++)p.call(h,S[r])&&(m[S[r]]=h[S[r]])}}return m}},function(_,o,l){var i=l(6);function c(){}_.exports=function(){function p(h,S,m,g,a,r){if(r!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function d(){return p}p.isRequired=p;var j={array:p,bool:p,func:p,number:p,object:p,string:p,symbol:p,any:p,arrayOf:d,element:p,instanceOf:d,node:p,objectOf:d,oneOf:d,oneOfType:d,shape:d,exact:d};return j.checkPropTypes=c,j.PropTypes=j,j}},function(_,o,l){_.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(_,o,l){Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function m(g,a){for(var r=0;r<a.length;r++){var s=a[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(g,s.key,s)}}return function(g,a,r){return a&&m(g.prototype,a),r&&m(g,r),g}}(),c=l(0),p=j(c),d=j(l(1));function j(m){return m&&m.__esModule?m:{default:m}}var h=function(m){function g(a){(function(s,f){if(!(s instanceof f))throw new TypeError("Cannot call a class as a function")})(this,g);var r=function(s,f){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?s:f}(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,a));return r.state={display:!0},r.animateCursor=r.animateCursor.bind(r),r}return function(a,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);a.prototype=Object.create(r&&r.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(a,r):a.__proto__=r)}(g,c.Component),i(g,[{key:"componentDidMount",value:function(){this.animateCursor()}},{key:"componentWillUnmount",value:function(){this._interval&&clearInterval(this._interval)}},{key:"animateCursor",value:function(){var a=this;this._interval=setInterval(function(){a.setState({display:!a.state.display})},500)}},{key:"render",value:function(){var a=this.props,r=a.className,s=a.cursor,f=a.cursorRenderer,u=this.state.display,O=s||"|";return p.default.createElement("span",{className:r,style:S(u)},f?f(O):O)}}]),g}();o.default=h;var S=function(){return{display:"inline-block",MsTransition:"opacity 0.5s",WebkitTransition:"opacity 0.5s",MozTransition:"opacity 0.5s",transition:"opacity 0.5s",opacity:!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]?1:0}};h.propTypes={cursor:d.default.string,className:d.default.string,cursorRenderer:d.default.func}}])})}(ee)),ee.exports}var xe=ve();const we=se(xe),je=[fe,pe,ye],ke=()=>{const[L,t]=H.useState([]),[_,o]=H.useState([]),[l,i]=H.useState(null),[c,p]=H.useState(!1),[d,j]=H.useState(!1),[h,S]=H.useState(""),{t:m}=me(),g=ie();H.useEffect(()=>{const u=JSON.parse(localStorage.getItem("chatHistory"));u&&t(u)},[]),H.useEffect(()=>{localStorage.setItem("chatHistory",JSON.stringify(L))},[L]);const a=()=>{if(l!==null){const R=L.map(N=>N.id===l?{...N,messages:_}:N);t(R)}const u=L.length>0?L[L.length-1].id+1:1,O={id:u,messages:[]};t(R=>[...R,O]),o([]),i(u)},r=async u=>{const O=new Date().toLocaleString(),R={userMessage:u,botResponse:"",timestamp:O},N=[..._,R];if(o(N),l!==null){const E=L.map($=>$.id===l?{...$,messages:N}:$);t(E)}j(!0);try{const $=(await de.post("https://672fc64b66e42ceaf15ead7d.mockapi.io/api/Message",{SentMessage:u})).data.ResponsMessage;setTimeout(()=>{j(!1),S($),p(!0)},1e3)}catch(E){console.error("Error sending message",E),j(!1)}},s=u=>{o(u.messages),i(u.id)},f=()=>{g("/")};return b.jsxs("div",{className:"relative w-full h-screen bg-gray-100 flex",children:[b.jsx("div",{className:"absolute inset-0 z-0",children:b.jsx(ue,{modules:[he],autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,className:"w-full h-full",children:je.map((u,O)=>b.jsx(le,{children:b.jsx("img",{src:u,alt:`Background ${O+1}`,className:"w-full h-full object-cover"})},O))})}),b.jsxs(ge.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.3,ease:"easeInOut"},className:"relative z-10 flex w-full max-w-5xl mx-auto my-8 bg-white shadow-lg rounded-lg overflow-hidden",children:[b.jsxs("div",{className:"w-80 bg-gray-50 border-r border-gray-200 flex flex-col",children:[b.jsx("div",{className:"p-4 border-b",children:b.jsxs("button",{onClick:a,className:"w-full flex items-center justify-center py-2 bg-white border border-gray-300 rounded-md shadow-sm text-amber-900 hover:bg-gray-100",children:[b.jsx(ce,{className:"mr-2",size:20}),b.jsx("span",{children:m("chatbot.newConversation")})]})}),b.jsx("div",{className:"flex-1 overflow-y-auto p-4 space-y-2",children:L.map(u=>b.jsxs("div",{onClick:()=>s(u),className:`p-3 bg-white rounded-md cursor-pointer hover:bg-gray-100 ${l===u.id?"ring-2 ring-amber-900":""}`,children:[b.jsx("p",{className:"text-sm text-gray-700",children:u.messages.length>0?u.messages[u.messages.length-1].userMessage:m("chatbot.newConversation")}),u.messages.length>0&&b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["(",u.messages.length," messages)"]})]},u.id))})]}),b.jsxs("div",{className:"flex-1 flex flex-col",children:[b.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 bg-white",children:[_.map((u,O)=>b.jsx("div",{className:`flex ${u.userMessage?"justify-end":"justify-start"}`,children:b.jsxs("div",{className:`p-3 rounded-md max-w-md ${u.userMessage?"bg-amber-900 text-white":"bg-gray-200 text-gray-800"}`,children:[b.jsx("p",{className:"text-sm",children:u.userMessage||u.botResponse}),b.jsx("span",{className:"block text-xs text-gray-500 mt-1",children:u.timestamp})]})},O)),d&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"p-3 rounded-md max-w-md bg-gray-200 text-gray-800",children:b.jsxs("div",{className:"flex space-x-1",children:[b.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce"}),b.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-100"}),b.jsx("div",{className:"w-2 h-2 bg-gray-500 rounded-full animate-bounce delay-200"})]})})}),c&&b.jsx("div",{className:"flex justify-start",children:b.jsx("div",{className:"p-3 rounded-md max-w-md bg-gray-200 text-gray-800",children:b.jsx(we,{text:[h],speed:50,typingDelay:100,eraseDelay:1e5,onTypingDone:()=>{const u=new Date().toLocaleString(),O={userMessage:"",botResponse:h,timestamp:u},R=[..._,O];if(o(R),l!==null){const N=L.map(E=>E.id===l?{...E,messages:R}:E);t(N)}p(!1),S("")}})})})]}),b.jsx("div",{className:"p-4 border-t border-gray-200",children:b.jsxs("div",{className:"flex items-center",children:[b.jsx("input",{type:"text",placeholder:m("chatbot.askMe"),className:"flex-1 border border-gray-300 rounded-l-md px-3 py-2 focus:outline-none",onKeyDown:u=>{u.key==="Enter"&&u.target.value.trim()&&(r(u.target.value),u.target.value="")}}),b.jsx("button",{onClick:()=>{const u=document.querySelector("input[type='text']");u.value.trim()&&(r(u.value),u.value="")},className:"bg-amber-900 text-white px-4 py-2 rounded-r-md hover:bg-amber-800",children:m("chatbot.send")})]})})]})]}),b.jsx("button",{onClick:f,className:"absolute top-4 right-4 text-gray-600 hover:text-gray-800 focus:outline-none",children:"âï¸"})]})};export{ke as default};
